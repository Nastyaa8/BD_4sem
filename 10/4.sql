USE [4_MyBase]
DROP TABLE IF EXISTS #EX;

CREATE TABLE #EX
(
  TKEY INT,
  CC INT IDENTITY(1,1),
  TF VARCHAR(100)
);

SET NOCOUNT ON;

DECLARE @I INT = 0;
WHILE @I < 20000
BEGIN
  INSERT INTO #EX (TKEY, TF)
  VALUES (FLOOR(30000 * RAND()), REPLICATE('STRING', 10));

  SET @I = @I + 1;
END;

SELECT TKEY FROM #EX WHERE TKEY BETWEEN 5000 AND 19999;

SELECT TKEY FROM #EX WHERE TKEY > 15000 AND TKEY < 20000;

SELECT TKEY FROM #EX WHERE TKEY = 17000;

CREATE INDEX #EX_WHERE ON #EX (TKEY) WHERE (TKEY >= 15000 AND TKEY < 20000);

